#!/bin/sh

cat <<EOF > co-in.$$
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
EOF

./idsgrep '(anything)' co-in.$$ > co-out.$$
echo === >> co-out.$$

./idsgrep -c raw '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c rawnc '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c rawnc '(anything)' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c cooked '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c ascii '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c indent '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c 220000803250 '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

./idsgrep -c 22000083 '?' co-in.$$ >> co-out.$$
echo === >> co-out.$$

if perl -pe 's/_/\x00/g' <<EOF | diff -c -a co-out.$$ -
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ
ï½Ÿ[ã‚‚ãˆ] (n)
  (1) sprouting/budding/
  (2) (m-sl) (also written èŒã‚‘) crush (anime, manga term)/fascination/infatuation
ï½ 
<èŒ>â¿±è‰¹<æ˜>[lr]æ—¥æœˆ
ã€èŒã€‘[tb]è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡î€ğŸ’©ô¿½.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
===
(anything)
===
ã€èŒãˆã€‘,<èŒ>â¿±è‰¹<æ˜>â¿°æ—¥æœˆ,ãˆ([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)
ã€èŒã€‘â¿±è‰¹<æ˜>â¿°æ—¥æœˆ
ã€èŒã€‘â¿±è‰¹<æ˜>â¿°<æ—¥>â¿»å£(+1)æœˆ
()\\\\)
(()
.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.;
?
(	
)
===
<\\X840C\\X3048>,<\\X840C>[tb]\\X8279<\\X660E>[lr]\\X65E5\\X6708,\\X3048
   ([\\X3082\\X3048] (n\\)\\n  (1\\) sprouting/budding/\\n  (2\\) (m-sl\\) (also written \\X840C\\X3091\\) crush (anime, manga term\\)/fascination/infatuation\\n)
<\\X840C>[tb]\\X8279<\\X660E>[lr]\\X65E5\\X6708
<\\X840C>[tb]\\X8279<\\X660E>[lr]<\\X65E5>[overlap]\\X53E3(+1)\\X6708
()\\\\)
(()
.\\xE1\\XE001\\x{1F4A9}\\x{10FFFD}.;
(anything)
(\\a\\b\\e\\f\\t\\n\\r\\cX\\x1E)
===
ã€èŒãˆã€‘,
  <èŒ>â¿±
    è‰¹
    <æ˜>â¿°
      æ—¥
      æœˆ
  ,
    ãˆ
    ([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)

ã€èŒã€‘â¿±
  è‰¹
  <æ˜>â¿°
    æ—¥
    æœˆ

ã€èŒã€‘â¿±
  è‰¹
  <æ˜>â¿°
    <æ—¥>â¿»
      å£
      (+1)
    æœˆ

()\\\\)

(()

.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.
  ;

?

(	
)

===
ã€–èŒãˆã€—,
	ã€–èŒã€—â¿±
		è‰¹
		ã€–æ˜ã€—â¿°
			æ—¥
			æœˆ
	,
		ãˆ
		([ã‚‚ãˆ] (n\\)
  (1\\) sprouting/budding/
  (2\\) (m-sl\\) (also written èŒã‚‘\\) crush (anime, manga term\\)/fascination/infatuation
)_ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		æ—¥
		æœˆ_ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		ã€–æ—¥ã€—â¿»
			å£
			(+1)
		æœˆ_()\\\\)_(()_.Ã¡\\XE001\\x{1F4A9}\\x{10FFFD}.
	;_?_(	
)_===
ã€–èŒãˆã€—,
	ã€–èŒã€—â¿±
		è‰¹
		ã€–æ˜ã€—â¿°
			æ—¥
			æœˆ
	,
		ãˆ
		([ã‚‚ãˆ] (n\)
  (1\) sprouting/budding/
  (2\) (m-sl\) (also written èŒã‚‘\) crush (anime, manga term\)/fascination/infatuation
)ã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		æ—¥
		æœˆã€–èŒã€—â¿±
	è‰¹
	ã€–æ˜ã€—â¿°
		ã€–æ—¥ã€—â¿»
			å£
			(+1)
		æœˆ()\\\\)(().Ã¡\XE001\x{1F4A9}\x{10FFFD}.
	;?(	
)===
EOF
then
  rm -f co-in.$$
  rm -f co-out.$$
  exit 0
else
  rm -f co-in.$$
  rm -f co-out.$$
  exit 1
fi
